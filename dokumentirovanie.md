---
order: 12
title: Документирование
---

Качественная и понятная документация является одним из основных элементов успешного проекта. Хорошо задокументированное решение позволяет быстро находить ответы на многие вопросы не только техническим специалистам, но и бизнес-пользователям.

В разделе «[Создание моделей промежуточного слоя](./sozdanie-modeley-promezhutochnogo-sloya-intermed#отслеживание-связей-между-моделями)» вы уже немного познакомились с функциональностью dbt в части документирования. Но там фокус был направлен на отслеживание связей между моделями проекта с помощью DAG (линейного графа).

В текущем разделе вы более подробно разберетесь с процессом документирования и статическим сайтом с документацией dbt-проекта.

## Обзор функциональности

Напомню, что для работы с функциональностью dbt в части документирования используются следующие команды:

-  `dbt docs generate`: сборка (или генерация) документации,

-  `dbt docs serve`: запуск документации в виде локального статического сайта.

Документация по dbt-проекту включает:

-  подробную информацию о проекте (все объекты -- модели, «сиды», тесты, линейный граф зависимости объектов и т.д.);

-  информацию о хранилище (таблицы, столбцы с типами данных и т.д.).

При этом документация представляет собой не просто перечень объектов проекта и платформы. Функциональность dbt позволяет добавлять описания к моделям, столбцам, источникам и многому другому для лучшего понимая создаваемого аналитического решения всеми заинтересованными лицами.

## Подготовка к документированию

Дело в том, что процессы документирования и тестирования (data tests) используют одни и те же файлы.  Поэтому выполните небольшую подготовку перед началом документирования.

Ранее в папке `models/marts/finance/` вы создали файл тестирования для таблицы фактов, который называется `_facts_tests.yml`. Раз уж он будет использоваться не только для тестов, но и формирования документации, то дайте ему более общее (универсальное) название. Переименуйте `_facts_tests.yml` в `_finance__models.yml`.

<image src="./dokumentirovanie.png" title="Рисунок 57. Переименование файла с тестами для финансовой модели " crop="0,0,100,100" objects="square,8.6806,73.7123,30.5556,8.3481,,top-left" width="1550px" height="758px"/>

## Добавление описания

Основным параметром в процессе документирования dbt-проекта является параметр `description`, который добавляет описание к объектам проекта. При создании тестов вы уж добавляли их описание через этот параметр. Но не только тесты можно документировать.

Вот перечень объектов, к которым dbt позволяет добавить описание  для дальнейшего использования в документации:

-  модели и столбцы моделей;

-  источники, таблиц источников и столбцы источников;

-  «сиды» и столбцы «сидов»;

-  «снэпшоты» и столбцы «снэпшотов»;

-  файлы для решения каких-то нерегулярных задач из папки `analyses`  и их столбцы;

-  макросы и параметры макросов;

-  тесты данных (data tests) и перечисленные в них столбцы;

-  модульные тесты (unit tests).

Перейдите в созданный файл `_finance__models.yml`и добавьте описание для всех столбцов модели `fct_payments.sql`:

```yaml
version: 2

models:
  - name: fct_payments
    description: Оплата за пользование автомобилем 

    columns:
      - name: payment_id
        description: Идентификатор оплаты
        tests:
          - unique
          - not_null    
      - name: amount
        description: Сумма оплаты
        tests:
          - check_positive_values
      - name: created_at 
        description: Дата произведения оплаты
      - name: customer_id
        description: Идентификатор заказчика (арендатора)
      - name: car_id 
        description: Идентификатор автомобиля
```

![](./dokumentirovanie-2.png "Рисунок 58. Добавление описания столбцов модели fct_payments"){width=1620px height=1012px}

Теперь добавьте описание к одной из таблиц измерений. Но прежде также переименуйте созданный для тестов файл `_dimensions_tests.yml` в `_dimensions__models.yml`.