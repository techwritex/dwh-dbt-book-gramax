---
order: 11
title: "Тестирование и документирование "
---

Пришло время более детально рассмотреть тестирование и документирование. Оба эти процесса настолько тесно связаны между собой, что трудно разнести материал для них по разным разделам. Поэтому постараюсь, насколько это возможно, понятно и доступно структурировать материал.

## Тестирование моделей

Тестирование в dbt – это выполнение определенных настроек в моделях, а также в других объектах проекта (источниках, csv-файлах, «снэпшотах»), которые позволяют проверить целостность данных, а затем сообщить о результатах этих проверок.

В dbt тесты являются select-запросами, направленными на поиск «ошибочных» записей.

Например, если в настройках указано, что столбец модели является уникальным, то тестовый запрос выбирает дубликаты. Если, согласно настройкам, столбец никогда не бывает нулевым, то тест ищет записи с нулевым значением этого столбца. Другими словами, если тестовый запрос не возвращает никаких («ошибочных») записей, то тест считается успешно пройденым.

Данные в dbt  можно протестировать с помощью встроенной функциональности, а также с применением дополнительных библиотек («пакетов»).

В dbt существует две вида тестов:

-  тесты данных (data tests), которые помогают обеспечить качество данных;

-  модульные тесты (unit tests, возможно, удобнее их называть просто юнит-тесты), которые проверяют заложенную в модели логику.

### Тесты данных (data tests)

Тесты данных предназначены для проверки целостности данных при каждом запуске проекта. При этом тесты на уровне данных бывают единичными (singular tests) и общими  (generic tests).

#### Единичные тесты (singular tests)

Возможно, по-русски звучит как-то криво, но смысл названия в том, что этот тип тестов используется для какой-то одной конкретной цели. Он достаточно прост и содержит один единственный SELECT-запрос, который возвращает «ошибочные» записи. В данных тестах можно использовать  функциональность Jinja, как в dbt-моделях. 

Единичные тесты располагаются в папке `tests` и выполняются автоматически при запуске команды `dbt test`.

<note type="lab" title="Примечение">

Не ставьте точку с запятой (;) в конце `select` единичного теста, иначе он свалится в ошибку.

</note>

### Модульные тесты (unit tests)

## Документирование проекта